// kino5.cpp : Defines the entry point for the application.
//

#include "kino5.h"
#include <stdlib.h>
#include <stdio.h>
#include <fstream>
#include <sstream>
#include <vector>
#include <string>
#include <iostream>
#include <iomanip>
#include <windows.h>
#include <cctype>
#include <string>
#include <cstdlib>
#include <random>

using namespace std;

char nazov1[50] = "John Wick 5";
int hodina1 = 20;
int minuta1 = 30;

char nazov2[50] = "Five Nighs at Freddys";
int hodina2 = 18;
int minuta2 = 30;

char nazov3[50] = "Napoleon";
int hodina3 = 17;
int minuta3 = 0;

void zmenaNazvuACasu()
{
    int choice;

    system("cls");
    if (minuta1 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta2 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta3 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta1 < 10 && minuta2 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta1 < 10 && minuta3 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta2 < 10 && minuta3 < 10)
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else
    {
        cout << "Vyberte, kde chcete zmenit nazov alebo cas filmu: \n"
            << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
  
    cin >> choice;
    do
    {
        int vyber = 0;
        switch (choice)
        {
        case 1:
        {
            printf_s("1. Zmena nazvu a casu filmu\n2. Zmena nazvu filmu\n3. Zmena casu filmu\n0. Exit\n\nVyber: ");
            scanf_s("%d", &vyber);

            if (vyber == 1)
            {
                
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov1, sizeof(nazov1)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov1);

                    Sleep(1000);
                }
           

                //system("cls");
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && (hodina > 16) && hodina < 23)
                {
                    hodina1 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta1 = minuta;
                        system("cls");
                        /* system("cls");
                         printf_s("Novy cas je: %s:%s", hodina1, minuta1);
                         Sleep(1000);*/
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }
            }
            else if (vyber == 2)
            {
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov1, sizeof(nazov1)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov1);

                    Sleep(1000);
                }
                else
                {
                    system("cls");
                    printf_s("Chyba!");
                    Sleep(1000);
                    break;
                }
            }
            else if (vyber == 3)
            {
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && hodina > 16 && hodina < 23)
                {
                    hodina1 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta1 = minuta;
                        system("cls");
                        /* system("cls");
                         printf_s("Novy cas je: %s:%s", hodina1, minuta1);
                         Sleep(1000);*/
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }
            }
            else
            {
                return;
            }

            return;
        }

        case 2:

            printf_s("1. Zmena nazvu a casu filmu\n2. Zmena nazvu filmu\n3. Zmena casu filmu\n0. Exit\n\nVyber: ");
            scanf_s("%d", &vyber);

            if (vyber == 1)
            {
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov2, sizeof(nazov2)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov2);

                    Sleep(1000);
                }
                else
                {
                    system("cls");
                    printf_s("Chyba!");
                    Sleep(1000);
                    break;
                }

                //system("cls");
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && hodina > 16 && hodina < 23)
                {
                    hodina2 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta2 = minuta;
                        system("cls");
                        /* system("cls");
                         printf_s("Novy cas je: %s:%s", hodina1, minuta1);
                         Sleep(1000);*/
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }
            }
            else if (vyber == 2)
            {
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov2, sizeof(nazov2)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov2);

                    Sleep(1000);
                }
                else
                {
                    system("cls");
                    printf_s("Chyba!");
                    Sleep(1000);
                    break;
                }
            }
            else if (vyber == 3)
            {
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && hodina > 16 && hodina < 23)
                {
                    hodina2 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta2 = minuta;
                        system("cls");
                        /* system("cls");
                         printf_s("Novy cas je: %s:%s", hodina1, minuta1);
                         Sleep(1000);*/
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }

            }
            else
            {
                return;
            }

            return;

        case 3:

            printf_s("1. Zmena nazvu a casu filmu\n2. Zmena nazvu filmu\n3. Zmena casu filmu\n0. Exit\n\nVyber: ");
            scanf_s("%d", &vyber);

            if (vyber == 1)
            {
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov3, sizeof(nazov3)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov3);

                    Sleep(1000);
                }
                else
                {
                    system("cls");
                    printf_s("Chyba!");
                    Sleep(1000);
                    break;
                }

                //system("cls");
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && hodina > 16 && hodina < 23)
                {
                    hodina3 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta3 = minuta;
                        system("cls");
                        /* system("cls");
                         printf_s("Novy cas je: %s:%s", hodina1, minuta1);
                         Sleep(1000);*/
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }
            }
            else if (vyber == 2)
            {
                printf_s("\nZadajte novy nazov filmu S PODTRZITKOM namiesto medzery: ");
                if (scanf_s("%49s", nazov3, sizeof(nazov3)) == 1)
                {
                    system("cls");

                    printf_s("Novy nazov je: %s", nazov3);

                    Sleep(1000);
                }
                else
                {
                    system("cls");
                    printf_s("Chyba!");
                    Sleep(1000);
                    break;
                }
            }
            else if (vyber == 3)
            {
                int hodina = 0;
                int minuta = 0;
                system("cls");
                printf_s("\nZadajte novu hodinu filmu: ");
                if (scanf_s("%d", &hodina) == 1 && hodina > 16 && hodina < 23)
                {
                    hodina3 = hodina;
                    printf_s("\nZadajte novu minutu filmu: ");
                    if (scanf_s("%d", &minuta) == 1 && minuta > -1 && minuta < 60)
                    {
                        minuta3 = minuta;
                        system("cls");
                        system("cls");
                        printf_s("Novy cas je: %s:%s", hodina3, minuta3);
                        Sleep(1000);
                        return;
                    }
                }
                else
                {
                    printf_s("Chyba!");
                    Sleep(1000);
                    return;
                }

            }
            else
            {
                return;
            }

            return;

        default:

            return;
        }
    } while (true);
}

void filmy()
{
    system("cls");
    FILE* f;
    FILE* f1;
    FILE* f2;


    int choice;
    do {
        system("cls");
        if (minuta1 < 10)
    {
        cout<< "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta2 < 10)
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta3 < 10)
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta1 < 10 && minuta2 < 10)
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta1 < 10 && minuta3 < 10)
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else if (minuta2 < 10 && minuta3 < 10)
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
    else
    {
        cout << "1. " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
            << "2. " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
            << "3. " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
            << "4. Spatky\n";
        cout << "\nVyber: ";
    }
  
    cin >> choice;
        switch (choice) {
        case 1: {
            char buffer[256];
            char pismeno;
            int cislo;
            int ovladaniePismena = 0;
            int ovladanieCisla = 0;

            system("cls");

            fopen_s(&f, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala1.txt", "r");

            if (f == nullptr) {
                perror("Chyba pri otvarani suboru.");
                return;
            }

            int nahodne = 0;
            printf("\nChcete vybrat sedadlo nahodne?\n\n1) Ano\n2) Nie\n");
            scanf_s("%d",&nahodne);

            while (fgets(buffer, sizeof(buffer), f) != nullptr) {
                printf("%s", buffer);
            }
            fclose(f);

            while (getchar() != '\n');

            while (true) {
                system("cls");

                fopen_s(&f, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala1.txt", "r");

                if (f == nullptr) {
                    perror("Chyba pri otvarani suboru.");
                    return;
                }

                while (fgets(buffer, sizeof(buffer), f) != nullptr) {
                    printf("%s", buffer);
                }
                fclose(f);

                int vyberSektoru;
                if (nahodne == 1)
                {
                    do
                    {
                        printf("\n\nVyberte sektor, v ktorom chcete sediet: \n");
                        cout << "1. Lavy horny\n"
                            << "2. Stredny horny\n"
                            << "3. Pravy horny\n"
                            << "4. Lavy stredny\n"
                            << "5. Stredny\n"
                            << "6. Pravy stredny\n"
                            << "7. Lavy dolny\n"
                            << "8. Stredny dolny\n"
                            << "9. Pravy dolny\n";
                        cout << "\nVyber: ";
                        cin >> vyberSektoru;

                        switch (vyberSektoru)
                        {
                        case 1:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno = 'B';                                
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno = 'C';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 2:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno = 'F';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 3:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno = 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno = 'I';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 4:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno = 'B';
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno = 'C';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 5:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno = 'F';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 6:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno = 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno = 'I';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 7:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno = 'B';
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno = 'C';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 8:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno = 'F';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        case 9:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno = 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno = 'I';
                            }
                            ovladanieCisla = 1;
                            break;
                        }
                        default:
                           
                            break;
                        }
                        break;
                    } while (true);

                }
                else 
                {
                    printf("\n\n\nVlozte pismeno a cislo miesta v tvar 'A1': ");

                    if (scanf(" %c%d", &pismeno, &cislo) == 2 && isalpha(pismeno) && (cislo > 0 && cislo < 8)) {
                        printf("Napisal si: %c%d\n", pismeno, cislo);
                        ovladanieCisla = 1;
                        Sleep(1000);
                        //break;
                    }
                    else
                    {
                        system("cls");
                        printf("Zly input! Skuste to znovu.\n");
                        Sleep(1000);

                        while (getchar() != '\n');
                    }
                }

                fopen_s(&f, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala1.txt", "r+");

                const int rows = 8;
                const int cols = 24;
                int cisloPismeno = 0;
                int cisloKod = 0;

                // Precitaj a vypíš
                char grid[rows][cols];
                for (int i = 0; i < rows; ++i) {
                    for (int j = 0; j < cols; ++j) {
                        if (fread(&grid[i][j], sizeof(char), 1, f) != 1) {
                            cerr << "Error reading from file." << endl;
                            fclose(f);
                            return;
                        }   
                    }
                    cout << endl;
                    system("cls");
                }

                //grid[5][5] = 'X';
                // 7 - 23 -- 1-7             
                switch (pismeno)
                {
                    case 'a':
                    case 'A':
                        cisloPismeno = 7;
                        ovladaniePismena = 1;
                        cisloKod = 1;
                        break;
                    case 'b':
                    case 'B':
                        cisloPismeno = 9;
                        ovladaniePismena = 1;
                        cisloKod = 2;
                        break;
                    case 'c':
                    case 'C':
                        cisloPismeno = 11;
                        ovladaniePismena = 1;
                        cisloKod = 3;
                        break;
                    case 'd':
                    case 'D':
                        cisloPismeno = 13;
                        ovladaniePismena = 1;
                        cisloKod = 4;
                        break;
                    case 'e':
                    case 'E':
                        cisloPismeno = 15;
                        ovladaniePismena = 1;
                        cisloKod = 5;
                        break;
                    case 'f':
                    case 'F':
                        cisloPismeno = 17;
                        ovladaniePismena = 1;
                        cisloKod = 6;
                        break;;
                    case 'g':
                    case 'G':
                        cisloPismeno = 19;
                        ovladaniePismena = 1;
                        cisloKod = 7;
                        break;
                    case 'h':
                    case 'H':
                        cisloPismeno = 21;
                        ovladaniePismena = 1;
                        cisloKod = 8;
                        break;
                    case 'i':
                    case 'I':
                        cisloPismeno = 23;
                        ovladaniePismena = 1;
                        cisloKod = 9;
                        break;
                default:
                    printf_s("Zly input miesta!");
                    Sleep(1000);
                    system("cls");
                    break;
                }

                if ((ovladaniePismena == 1) && (ovladanieCisla == 1))
                {
                    if (grid[cislo][cisloPismeno - 3] == 'X' )
                    {
                        printf_s("Miesto je obsadene.");
                        Sleep(1000);
                    }
                    else
                    {
                        system("cls");
                        grid[cislo][cisloPismeno - 3] = 'X';

                        printf_s("Tvoj kod je %d%d%d",1, cislo, cisloKod);
                        Sleep(2500);
                        while (getchar() != '\n');

                        rewind(f);

                        // Zmeň a zapíš späť do textaku
                        for (int i = 0; i < rows; ++i) {
                            for (int j = 0; j < cols; ++j) {
                                if (fwrite(&grid[i][j], sizeof(char), 1, f) != 1) {
                                    cerr << "Error writing to file." << endl;
                                    fclose(f);
                                    return;
                                }
                            }
                        }

                        fclose(f);

                        system("cls");
                        printf("\nHotovo");
                    }              
                }
                else
                {
                    system("cls");
                    printf("Zly input2");
                }
               
                Sleep(1000);
                fclose(f);

                //Sleep(2000);

                break;
            }
            break;
        }
        case 2:
        {
            char buffer2[256];
            char pismeno2;
            int cislo2;
            int ovladaniePismena2 = 0;
            int ovladanieCisla2 = 0;

            system("cls");

            fopen_s(&f1, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala2.txt", "r");

            if (f1 == nullptr) {
                perror("Chyba pri otvarani suboru.");
                return;
            }

            int nahodne = 0;
            printf("\nChcete vybrat sedadlo nahodne?\n\n1) Ano\n2) Nie\n");
            scanf_s("%d", &nahodne);

            while (fgets(buffer2, sizeof(buffer2), f1) != nullptr) {
                printf("%s", buffer2);
            }
            fclose(f1);

            while (getchar() != '\n');

            while (true) {
                system("cls");

                fopen_s(&f1, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala2.txt", "r");

                if (f1 == nullptr) {
                    perror("Chyba pri otvarani suboru.");
                    return;
                }

                while (fgets(buffer2, sizeof(buffer2), f1) != nullptr) {
                    printf("%s", buffer2);
                }
                fclose(f1);
                
                int vyberSektoru;
                if (nahodne == 1)
                {
                    do
                    {
                        printf("\n\nVyberte sektor, v ktorom chcete sediet: \n");
                        cout << "1. Lavy horny\n"
                            << "2. Stredny horny\n"
                            << "3. Pravy horny\n"
                            << "4. Lavy stredny\n"
                            << "5. Stredny\n"
                            << "6. Pravy stredny\n"
                            << "7. Lavy dolny\n"
                            << "8. Stredny dolny\n"
                            << "9. Pravy dolny\n";
                        cout << "\nVyber: ";
                        cin >> vyberSektoru;

                        switch (vyberSektoru)
                        {
                        case 1:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno2 = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno2 = 'B';
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno2 = 'C';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 2:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno2 = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno2 = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno2 = 'F';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 3:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(1, 2);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno2 = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno2= 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno2 = 'I';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 4:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno2 = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno2 = 'B';
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno2 = 'C';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 5:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno2 = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno2 = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno2 = 'F';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 6:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(3, 4);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno2 = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno2 = 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno2 = 'I';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 7:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(1, 3);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 1)
                            {
                                pismeno2 = 'A';
                            }
                            else if (randomNumber == 2)
                            {
                                pismeno2 = 'B';
                            }
                            else if (randomNumber == 3)
                            {
                                pismeno2 = 'C';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 8:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(4, 6);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 4)
                            {
                                pismeno2 = 'D';
                            }
                            else if (randomNumber == 5)
                            {
                                pismeno2 = 'E';
                            }
                            else if (randomNumber == 6)
                            {
                                pismeno2 = 'F';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        case 9:
                        {
                            random_device rd;
                            mt19937 gen(rd());
                            uniform_int_distribution<int> distribution(7, 9);
                            // Generate a random number
                            int randomNumber = distribution(gen);

                            random_device rd2;
                            mt19937 gen2(rd2());
                            uniform_int_distribution<int> distribution2(5, 7);
                            // Generate a random number
                            cislo2 = distribution2(gen2);

                            if (randomNumber == 7)
                            {
                                pismeno2 = 'G';
                            }
                            else if (randomNumber == 8)
                            {
                                pismeno2 = 'H';
                            }
                            else if (randomNumber == 9)
                            {
                                pismeno2 = 'I';
                            }
                            ovladanieCisla2 = 1;
                            break;
                        }
                        default:

                            break;
                        }
                        break;
                    } while (true);

                }
                else
                {
                    printf("\n\n\nVlozte pismeno a cislo miesta v tvar 'A1': ");

                    if (scanf(" %c%d", &pismeno2, &cislo2) == 2 && isalpha(pismeno2) && (cislo2 > 0 && cislo2 < 8)) {
                        printf("Napisal si: %c%d\n", pismeno2, cislo2);
                        ovladanieCisla2 = 1;
                        Sleep(1000);
                        //break;
                    }
                    else
                    {
                        system("cls");
                        printf("Zly input! Skuste to znovu.\n");
                        Sleep(1000);

                        while (getchar() != '\n');
                    }
                }
                
                fopen_s(&f1, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala2.txt", "r+");

                const int rows = 8;
                const int cols = 24;
                int cisloPismeno = 0;
                int cisloKod = 0;

                // Precitaj a vypíš
                char grid[rows][cols];
                for (int i = 0; i < rows; ++i) {
                    for (int j = 0; j < cols; ++j) {
                        if (fread(&grid[i][j], sizeof(char), 1, f1) != 1) {
                            cerr << "Error reading from file." << endl;
                            fclose(f1);
                            return;
                        }    
                    }
                    cout << endl;
                    system("cls");
                }

                switch (pismeno2)
                {
                case 'a':
                case 'A':
                    cisloPismeno = 7;
                    ovladaniePismena2 = 1;
                    cisloKod = 1;
                    break;
                case 'b':
                case 'B':
                    cisloPismeno = 9;
                    ovladaniePismena2 = 1;
                    cisloKod = 2;
                    break;
                case 'c':
                case 'C':
                    cisloPismeno = 11;
                    ovladaniePismena2 = 1;
                    cisloKod = 3;
                    break;
                case 'd':
                case 'D':
                    cisloPismeno = 13;
                    ovladaniePismena2 = 1;
                    cisloKod = 4;
                    break;
                case 'e':
                case 'E':
                    cisloPismeno = 15;
                    ovladaniePismena2 = 1;
                    cisloKod = 5;
                    break;
                case 'f':
                case 'F':
                    cisloPismeno = 17;
                    ovladaniePismena2 = 1;
                    cisloKod = 6;
                    break;;
                case 'g':
                case 'G':
                    cisloPismeno = 19;
                    ovladaniePismena2 = 1;
                    cisloKod = 7;
                    break;
                case 'h':
                case 'H':
                    cisloPismeno = 21;
                    ovladaniePismena2 = 1;
                    cisloKod = 8;
                    break;
                case 'i':
                case 'I':
                    cisloPismeno = 23;
                    ovladaniePismena2 = 1;
                    cisloKod = 9;
                    break;
                default:
                    printf_s("Zly input miesta!");
                    Sleep(1000);
                    system("cls");
                    break;
                }

                if ((ovladaniePismena2 == 1) && (ovladanieCisla2 == 1))
                {
                    if (grid[cislo2][cisloPismeno - 3] == 'X')
                    {
                        printf_s("Miesto je obsadene.");
                        Sleep(1000);
                    }
                    else
                    {
                        grid[cislo2][cisloPismeno - 3] = 'X';

                        printf_s("Tvoj kod je %d%d%d", 2, cislo2, cisloKod);
                        Sleep(2500);
                        while (getchar() != '\n');

                        rewind(f1);

                        // Zmeň a zapíš späť do textaku
                        for (int i = 0; i < rows; ++i) {
                            for (int j = 0; j < cols; ++j) {
                                if (fwrite(&grid[i][j], sizeof(char), 1, f1) != 1) {
                                    cerr << "Error writing to file." << endl;
                                    fclose(f1);
                                    return;
                                }
                            }
                        }

                        fclose(f1);

                        system("cls");
                        printf("\nHotovo");
                    }
                }
                else
                {
                    system("cls");
                    printf("Zly input2");
                }

                Sleep(1000);
                fclose(f1);

                //Sleep(2000);

                break;
            }

            break;
        }
        case 3:
        {
            {
                char buffer2[256];
                char pismeno2;
                int cislo2;
                int ovladaniePismena2 = 0;
                int ovladanieCisla2 = 0;

                system("cls");

                fopen_s(&f2, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala3.txt", "r");

                if (f2 == nullptr) {
                    perror("Chyba pri otvarani suboru.");
                    return;
                }

                int nahodne = 0;
                printf("\nChcete vybrat sedadlo nahodne?\n\n1) Ano\n2) Nie\n");
                scanf_s("%d", &nahodne);

                while (fgets(buffer2, sizeof(buffer2), f2) != nullptr) {
                    printf("%s", buffer2);
                }
                fclose(f2);

                while (getchar() != '\n');

                while (true) {
                    system("cls");

                    fopen_s(&f2, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala3.txt", "r");

                    if (f2 == nullptr) {
                        perror("Chyba pri otvarani suboru.");
                        return;
                    }

                    while (fgets(buffer2, sizeof(buffer2), f2) != nullptr) {
                        printf("%s", buffer2);
                    }
                    fclose(f2);

                    int vyberSektoru;
                    if (nahodne == 1)
                    {
                        do
                        {
                            printf("\n\nVyberte sektor, v ktorom chcete sediet: \n");
                            cout << "1. Lavy horny\n"
                                << "2. Stredny horny\n"
                                << "3. Pravy horny\n"
                                << "4. Lavy stredny\n"
                                << "5. Stredny\n"
                                << "6. Pravy stredny\n"
                                << "7. Lavy dolny\n"
                                << "8. Stredny dolny\n"
                                << "9. Pravy dolny\n";
                            cout << "\nVyber: ";
                            cin >> vyberSektoru;

                            switch (vyberSektoru)
                            {
                            case 1:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(1, 3);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(1, 2);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 1)
                                {
                                    pismeno2 = 'A';
                                }
                                else if (randomNumber == 2)
                                {
                                    pismeno2 = 'B';
                                }
                                else if (randomNumber == 3)
                                {
                                    pismeno2 = 'C';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 2:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(4, 6);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(1, 2);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 4)
                                {
                                    pismeno2 = 'D';
                                }
                                else if (randomNumber == 5)
                                {
                                    pismeno2 = 'E';
                                }
                                else if (randomNumber == 6)
                                {
                                    pismeno2 = 'F';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 3:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(7, 9);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(1, 2);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 7)
                                {
                                    pismeno2 = 'G';
                                }
                                else if (randomNumber == 8)
                                {
                                    pismeno2 = 'H';
                                }
                                else if (randomNumber == 9)
                                {
                                    pismeno2 = 'I';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 4:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(1, 3);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(3, 4);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 1)
                                {
                                    pismeno2 = 'A';
                                }
                                else if (randomNumber == 2)
                                {
                                    pismeno2 = 'B';
                                }
                                else if (randomNumber == 3)
                                {
                                    pismeno2 = 'C';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 5:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(4, 6);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(3, 4);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 4)
                                {
                                    pismeno2 = 'D';
                                }
                                else if (randomNumber == 5)
                                {
                                    pismeno2 = 'E';
                                }
                                else if (randomNumber == 6)
                                {
                                    pismeno2 = 'F';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 6:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(7, 9);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(3, 4);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 7)
                                {
                                    pismeno2 = 'G';
                                }
                                else if (randomNumber == 8)
                                {
                                    pismeno2 = 'H';
                                }
                                else if (randomNumber == 9)
                                {
                                    pismeno2 = 'I';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 7:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(1, 3);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(5, 7);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 1)
                                {
                                    pismeno2 = 'A';
                                }
                                else if (randomNumber == 2)
                                {
                                    pismeno2 = 'B';
                                }
                                else if (randomNumber == 3)
                                {
                                    pismeno2 = 'C';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 8:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(4, 6);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(5, 7);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 4)
                                {
                                    pismeno2 = 'D';
                                }
                                else if (randomNumber == 5)
                                {
                                    pismeno2 = 'E';
                                }
                                else if (randomNumber == 6)
                                {
                                    pismeno2 = 'F';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            case 9:
                            {
                                random_device rd;
                                mt19937 gen(rd());
                                uniform_int_distribution<int> distribution(7, 9);
                                // Generate a random number
                                int randomNumber = distribution(gen);

                                random_device rd2;
                                mt19937 gen2(rd2());
                                uniform_int_distribution<int> distribution2(5, 7);
                                // Generate a random number
                                cislo2 = distribution2(gen2);

                                if (randomNumber == 7)
                                {
                                    pismeno2 = 'G';
                                }
                                else if (randomNumber == 8)
                                {
                                    pismeno2 = 'H';
                                }
                                else if (randomNumber == 9)
                                {
                                    pismeno2 = 'I';
                                }
                                ovladanieCisla2 = 1;
                                break;
                            }
                            default:

                                break;
                            }
                            break;
                        } while (true);
                    }
                    else
                    {
                        printf("\n\n\nVlozte pismeno a cislo miesta v tvar 'A1': ");

                        if (scanf(" %c%d", &pismeno2, &cislo2) == 2 && isalpha(pismeno2) && (cislo2 > 0 && cislo2 < 8)) {
                            printf("Napisal si: %c%d\n", pismeno2, cislo2);
                            ovladanieCisla2 = 1;
                            Sleep(1000);
                            //break;
                        }
                        else
                        {
                            system("cls");
                            printf("Zly input! Skuste to znovu.\n");
                            Sleep(1000);

                            while (getchar() != '\n');
                        }
                    }

                    fopen_s(&f2, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala3.txt", "r+");

                    const int rows = 8;
                    const int cols = 24;
                    int cisloPismeno = 0;
                    int cisloKod = 0;

                    // Precitaj a vypíš
                    char grid[rows][cols];
                    for (int i = 0; i < rows; ++i) {
                        for (int j = 0; j < cols; ++j) {
                            if (fread(&grid[i][j], sizeof(char), 1, f2) != 1) {
                                cerr << "Error reading from file." << endl;
                                fclose(f2);
                                return;
                            }
                        }
                        cout << endl;
                        system("cls");
                    }

                    switch (pismeno2)
                    {
                    case 'a':
                    case 'A':
                        cisloPismeno = 7;
                        ovladaniePismena2 = 1;
                        cisloKod = 1;
                        break;
                    case 'b':
                    case 'B':
                        cisloPismeno = 9;
                        ovladaniePismena2 = 1;
                        cisloKod = 2;
                        break;
                    case 'c':
                    case 'C':
                        cisloPismeno = 11;
                        ovladaniePismena2 = 1;
                        cisloKod = 3;
                        break;
                    case 'd':
                    case 'D':
                        cisloPismeno = 13;
                        ovladaniePismena2 = 1;
                        cisloKod = 4;
                        break;
                    case 'e':
                    case 'E':
                        cisloPismeno = 15;
                        ovladaniePismena2 = 1;
                        cisloKod = 5;
                        break;
                    case 'f':
                    case 'F':
                        cisloPismeno = 17;
                        ovladaniePismena2 = 1;
                        cisloKod = 6;
                        break;;
                    case 'g':
                    case 'G':
                        cisloPismeno = 19;
                        ovladaniePismena2 = 1;
                        cisloKod = 7;
                        break;
                    case 'h':
                    case 'H':
                        cisloPismeno = 21;
                        ovladaniePismena2 = 1;
                        cisloKod = 8;
                        break;
                    case 'i':
                    case 'I':
                        cisloPismeno = 23;
                        ovladaniePismena2 = 1;
                        cisloKod = 9;
                        break;
                    default:
                        printf_s("Zly input miesta!");
                        Sleep(1000);
                        system("cls");
                        break;
                    }

                    if ((ovladaniePismena2 == 1) && (ovladanieCisla2 == 1))
                    {
                        if (grid[cislo2][cisloPismeno - 3] == 'X')
                        {
                            printf_s("Miesto je obsadene.");
                            Sleep(1000);
                        }
                        else
                        {
                            grid[cislo2][cisloPismeno - 3] = 'X';

                            printf_s("Tvoj kod je %d%d%d", 3, cislo2, cisloKod);
                            Sleep(2500);
                            while (getchar() != '\n');

                            rewind(f2);

                            // Zmeň a zapíš späť do textaku
                            for (int i = 0; i < rows; ++i) {
                                for (int j = 0; j < cols; ++j) {
                                    if (fwrite(&grid[i][j], sizeof(char), 1, f2) != 1) {
                                        cerr << "Error writing to file." << endl;
                                        fclose(f2);
                                        return;
                                    }
                                }
                            }

                            fclose(f2);

                            system("cls");
                            printf("\nHotovo");
                        }
                    }
                    else
                    {
                        system("cls");
                        printf("Zly input2");
                    }

                    Sleep(1000);
                    fclose(f2);

                    //Sleep(2000);

                    break;
                }
            }
            break;
        }
        case 4:
            system("cls");
            return;
            break;
        default:
            system("cls");
    
        }
    } while (choice != 0);   
}

void zrusitRezervaciu()
{
    FILE* f;
    FILE* f1;
    FILE* f2;

    int cislo = 0;
    int choice;

    const int rows = 8;
    const int cols = 24;

    int cisloPismeno = 0;
    int cislicaRadu = 0;

    do
    {
        int cisloNaPracu = 0;
        int poslednaCislica = 0;

        system("cls");

        if (minuta1 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else if (minuta2 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else if (minuta3 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else if (minuta1 < 10 && minuta2 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else if (minuta1 < 10 && minuta3 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << "0" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else if (minuta2 < 10 && minuta3 < 10)
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << "0" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << "0" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }
        else
        {
            cout << "1. Zrusit rezervaciu na: " << nazov1 << " [" << hodina1 << ":" << minuta1 << "]\n"
                << "2. Zrusit rezervaciu na: " << nazov2 << " [" << hodina2 << ":" << minuta2 << "]\n"
                << "3. Zrusit rezervaciu na: " << nazov3 << " [" << hodina3 << ":" << minuta3 << "]\n"
                << "0. Spatky\n";
            cout << "\nVyber: ";
        }

        cin >> choice;

        switch (choice)
        {
        case 1:
        {
            do
            {
                fflush(stdin);
                system("cls");
                printf_s("Zadajte kod listku: ");

                if ((scanf_s("%d", &cislo)) == 1 && (cislo > 110 && cislo < 180))
                {
                    fopen_s(&f, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala1.txt", "r+");

                    char grid[rows][cols];
                    for (int i = 0; i < rows; ++i) {
                        for (int j = 0; j < cols; ++j) {
                            if (fread(&grid[i][j], sizeof(char), 1, f) != 1) {
                                cerr << "Error reading from file." << endl;
                                fclose(f);
                                return;
                            }
                        }
                        cout << endl;
                        system("cls");
                    }
                    cisloNaPracu = cislo - 100;
                    poslednaCislica = cisloNaPracu % 10;
                    cislicaRadu = cisloNaPracu / 10;

                    switch (poslednaCislica)
                    {
                    case 1:
                        cisloPismeno = 7;
                        break;
                    case 2:
                        cisloPismeno = 9;
                        break;
                    case 3:
                        cisloPismeno = 11;
                        break;
                    case 4:
                        cisloPismeno = 13;
                        break;
                    case 5:
                        cisloPismeno = 15;
                        break;
                    case 6:
                        cisloPismeno = 17;
                        break;
                    case 7:
                        cisloPismeno = 19;
                        break;
                    case 8:
                        cisloPismeno = 21;
                        break;
                    case 9:
                        cisloPismeno = 23;
                        break;
                    default:
                        break;
                    }
                    /* if (grid[cislo][cisloPismeno - 3] == 'X')   //Tu som skoncil
                     {
                         printf_s("Miesto je obsadene.");
                         Sleep(1000);
                     }*/

                    if (grid[cislicaRadu][cisloPismeno - 3] == 'O')
                    {
                        printf_s("Miesto este nebolo rezervovane.");
                        Sleep(1000);
                    }
                    else
                    {
                        grid[cislicaRadu][cisloPismeno - 3] = 'O';

                        rewind(f);

                        // Zmeň a zapíš späť do textaku
                        for (int i = 0; i < rows; ++i) {
                            for (int j = 0; j < cols; ++j) {
                                if (fwrite(&grid[i][j], sizeof(char), 1, f) != 1) {
                                    cerr << "Chyba pri zapise!" << endl;
                                    fclose(f);
                                    return;
                                }
                            }
                        }

                        system("cls");
                        printf("\nRezervacia uspesne Zrusena.");
                        Sleep(1000);
                    }

                    fclose(f);
                    return;
                    break;
                }
                printf("\nZly kod.");
                Sleep(1000);

                system("cls");

                cout << "1. Pokracovat\n"
                    << "2. Exit\n";

                cout << "\nVyber: ";

                cin >> choice;
                switch (choice)
                {
                case 1:
                    break;
                default:
                    return;
                }

            } while (true);

            break;
        }
        case 2:
        {
            
            do
            {
                fflush(stdin);
                system("cls");
                printf_s("Zadajte kod listku: ");

                if ((scanf_s("%d", &cislo)) == 1 && (cislo > 210 && cislo < 280))
                {
                    fopen_s(&f1, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala2.txt", "r+");

                    char grid[rows][cols];
                    for (int i = 0; i < rows; ++i) {
                        for (int j = 0; j < cols; ++j) {
                            if (fread(&grid[i][j], sizeof(char), 1, f1) != 1) {
                                cerr << "Error reading from file." << endl;
                                fclose(f1);
                                return;
                            }
                        }
                        cout << endl;
                        system("cls");
                    }
                    cisloNaPracu = cislo - 200;
                    poslednaCislica = cisloNaPracu % 10;
                    cislicaRadu = cisloNaPracu / 10;

                    switch (poslednaCislica)
                    {
                    case 1:
                        cisloPismeno = 7;
                        break;
                    case 2:
                        cisloPismeno = 9;
                        break;
                    case 3:
                        cisloPismeno = 11;
                        break;
                    case 4:
                        cisloPismeno = 13;
                        break;
                    case 5:
                        cisloPismeno = 15;
                        break;
                    case 6:
                        cisloPismeno = 17;
                        break;
                    case 7:
                        cisloPismeno = 19;
                        break;
                    case 8:
                        cisloPismeno = 21;
                        break;
                    case 9:
                        cisloPismeno = 23;
                        break;
                    default:
                        break;
                    }

                    if (grid[cislicaRadu][cisloPismeno - 3] == 'O')
                    {
                        printf_s("Miesto este nebolo rezervovane.");
                        Sleep(1000);
                    }
                    else
                    {
                        grid[cislicaRadu][cisloPismeno - 3] = 'O';

                        rewind(f1);

                        // Zmeň a zapíš späť do textaku
                        for (int i = 0; i < rows; ++i) {
                            for (int j = 0; j < cols; ++j) {
                                if (fwrite(&grid[i][j], sizeof(char), 1, f1) != 1) {
                                    cerr << "Chyba pri zapise!" << endl;
                                    fclose(f1);
                                    return;
                                }
                            }
                        }

                        system("cls");
                        printf("\nRezervacia uspesne Zrusena.");
                        Sleep(1000);
                    }

                    fclose(f1);
                    return;
                    break;
                }
                printf("\nZly kod.");
                Sleep(1000);

                system("cls");

                cout << "1. Pokracovat\n"
                    << "2. Exit\n";

                cout << "\nVyber: ";

                cin >> choice;
            
                switch (choice)
                {
                case 1:
                    break;
                default:
                    return;
                }

            } while (true);

            break;
        }
        case 3:
        {
            do
            {
                fflush(stdin);
                system("cls");
                printf_s("Zadajte kod listku: ");

                if ((scanf_s("%d", &cislo)) == 1 && (cislo > 310 && cislo < 380))
                {
                    fopen_s(&f2, "C:\\Users\\lovis\\Documents\\Skola\\BPC-PC1T\\Projekt_kino_main\\kino5\\Sala3.txt", "r+");

                    char grid[rows][cols];
                    for (int i = 0; i < rows; ++i) {
                        for (int j = 0; j < cols; ++j) {
                            if (fread(&grid[i][j], sizeof(char), 1, f2) != 1) {
                                cerr << "Error reading from file." << endl;
                                fclose(f2);
                                return;
                            }
                        }
                        cout << endl;
                        system("cls");
                    }
                    cisloNaPracu = cislo - 300;
                    poslednaCislica = cisloNaPracu % 10;
                    cislicaRadu = cisloNaPracu / 10;

                    switch (poslednaCislica)
                    {
                    case 1:
                        cisloPismeno = 7;
                        break;
                    case 2:
                        cisloPismeno = 9;
                        break;
                    case 3:
                        cisloPismeno = 11;
                        break;
                    case 4:
                        cisloPismeno = 13;
                        break;
                    case 5:
                        cisloPismeno = 15;
                        break;
                    case 6:
                        cisloPismeno = 17;
                        break;
                    case 7:
                        cisloPismeno = 19;
                        break;
                    case 8:
                        cisloPismeno = 21;
                        break;
                    case 9:
                        cisloPismeno = 23;
                        break;
                    default:
                        break;
                    }

                    if (grid[cislicaRadu][cisloPismeno - 3] == 'O')
                    {
                        printf_s("Miesto este nebolo rezervovane.");
                        Sleep(1000);
                    }
                    else
                    {
                        grid[cislicaRadu][cisloPismeno - 3] = 'O';

                        rewind(f2);

                        // Zmeň a zapíš späť do textaku
                        for (int i = 0; i < rows; ++i) {
                            for (int j = 0; j < cols; ++j) {
                                if (fwrite(&grid[i][j], sizeof(char), 1, f2) != 1) {
                                    cerr << "Chyba pri zapise!" << endl;
                                    fclose(f2);
                                    return;
                                }
                            }
                        }

                        system("cls");
                        printf("\nRezervacia uspesne Zrusena.");
                        Sleep(1000);
                    }

                    fclose(f2);
                    return;
                    break;
                }
                printf("\nZly kod.");
                Sleep(1000);

                system("cls");

                cout << "1. Pokracovat\n"
                    << "2. Exit\n";

                cout << "\nVyber: ";

                int pokracuj;
                cin >> pokracuj;
                switch (pokracuj)
                {
                case 1:
                    break;
                default:
                    return;
                }

            } while (true);

            break;
        }
            break;
        case 0:
            return;
        default:
            printf("Zla volba.");
            Sleep(1000);
            break;
        }
    } while (choice != 0);
}

int main()
{
    int choice;
    do {
        system("cls");
        cout << "1. Vybrat film a rezervovat miesta\n"
            << "2. Zrusit rezervaciu\n"
            << "3. Zmenit nazov filmu a cas vysielania\n"
            << "0. Exit\n";
        cout << "Vyber: ";
        cin >> choice;

        switch (choice) {
        case 1: 
            system("cls");
            filmy();
            break;      
        case 2:
            system("cls");
            zrusitRezervaciu();
            break;
        case 3:
            system("cls");
            zmenaNazvuACasu();
            break;
        case 0:
            system("cls");
            cout << "Koniec.\n";
            break;
        default:
            system("cls");
        }
    } while (choice != 0);
}
